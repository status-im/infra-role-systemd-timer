[Unit]
Description={{ systemd_timer_description }}
Documentation=https://github.com/status-im/infra-role-systemd-timer
Requires={{ systemd_timer_requires }}
After={{ systemd_timer_requires }}
{% if systemd_timer_requires_extra is defined %}
After={{ systemd_timer_requires_extra }}
{% endif %}

[Service]
User={{ systemd_timer_user }}
Type={{ systemd_timer_type }}
Nice={{ systemd_timer_nice_priority }}
IOSchedulingClass={{ systemd_timer_ionice_class }}
IOSchedulingPriority={{ systemd_timer_ionice_priority }}
ExecStart={{ systemd_timer_script_path }}
TimeoutStartSec={{ systemd_timer_timeout_sec }}
WorkingDirectory={{ systemd_timer_work_dir }}
{% for key, val in systemd_timer_environment.items() %}
Environment="{{ key }}={{ val }}"
{% endfor %}
